export interface SpellData {
  id: string;
  name: string;
  level: number; // 0 = cantrip
  school: string;
  ritual: boolean;
  concentration: boolean;
  castingTime: string;
  range: string;
  components: string[];
  duration: string;
  classes: string[];
  description: string;
  source: { book: string; page: number };
}

export const spells: SpellData[] = [
  // ── Truques (nível 0) ──────────────────────
  {
    id: "arcanismo-prestidigitacao",
    name: "Prestidigitação",
    level: 0,
    school: "Transmutação",
    ritual: false,
    concentration: false,
    castingTime: "1 ação",
    range: "3m",
    components: ["V", "S"],
    duration: "Até 1 hora",
    classes: ["Mago", "Feiticeiro", "Bruxo", "Bardo", "Artífice"],
    description:
      "Este truque é uma menor demonstração mágica que conjuradores novatos usam para praticar. Você cria um dos efeitos sensoriais: faíscas, apagar vela, limpar objeto, aquecer, marca ou ilusão.",
    source: { book: "PHB 2024", page: 0 },
  },
  {
    id: "rajada-mistica",
    name: "Rajada Mística",
    level: 0,
    school: "Evocação",
    ritual: false,
    concentration: false,
    castingTime: "1 ação",
    range: "36m",
    components: ["V", "S"],
    duration: "Instantânea",
    classes: ["Bruxo"],
    description:
      "Um raio de energia crepitante lança-se contra uma criatura ao alcance. Faça um ataque à distância com magia. Em caso de acerto, causa 1d10 de dano de força.",
    source: { book: "PHB 2024", page: 0 },
  },
  {
    id: "luz",
    name: "Luz",
    level: 0,
    school: "Evocação",
    ritual: false,
    concentration: false,
    castingTime: "1 ação",
    range: "Toque",
    components: ["V", "M"],
    duration: "1 hora",
    classes: ["Mago", "Clérigo", "Feiticeiro", "Bardo", "Artífice"],
    description:
      "Você toca um objeto que não seja maior que 3 metros em qualquer dimensão. O objeto emite luz plena em um raio de 6m e penumbra por mais 6m.",
    source: { book: "PHB 2024", page: 0 },
  },
  {
    id: "raio-de-gelo",
    name: "Raio de Gelo",
    level: 0,
    school: "Evocação",
    ritual: false,
    concentration: false,
    castingTime: "1 ação",
    range: "18m",
    components: ["V", "S"],
    duration: "Instantânea",
    classes: ["Mago", "Feiticeiro", "Artífice"],
    description:
      "Um raio de energia azulada e fria dispara contra uma criatura ao alcance. Faça um ataque à distância com magia. Em caso de acerto, causa 1d8 de dano de frio e reduz o deslocamento em 3m até o início do seu próximo turno.",
    source: { book: "PHB 2024", page: 0 },
  },
  {
    id: "mao-arcana",
    name: "Mão Arcana",
    level: 0,
    school: "Conjuração",
    ritual: false,
    concentration: false,
    castingTime: "1 ação",
    range: "9m",
    components: ["V", "S"],
    duration: "1 minuto",
    classes: ["Mago", "Feiticeiro", "Bruxo", "Bardo", "Artífice"],
    description:
      "Uma mão espectral e flutuante aparece em um ponto que você escolher ao alcance. Ela pode manipular objetos, abrir portas e carregar até 5kg.",
    source: { book: "PHB 2024", page: 0 },
  },
  {
    id: "toque-gelido",
    name: "Toque Gelido",
    level: 0,
    school: "Necromancia",
    ritual: false,
    concentration: false,
    castingTime: "1 ação",
    range: "36m",
    components: ["V", "S"],
    duration: "1 rodada",
    classes: ["Mago", "Feiticeiro", "Bruxo"],
    description:
      "Você cria uma mão esquelética fantasmagórica no espaço de uma criatura ao alcance. Faça ataque à distância com magia, causando 1d8 de dano necrótico e impedindo recuperação de PV até seu próximo turno.",
    source: { book: "PHB 2024", page: 0 },
  },
  {
    id: "rajada-de-fogo",
    name: "Rajada de Fogo",
    level: 0,
    school: "Evocação",
    ritual: false,
    concentration: false,
    castingTime: "1 ação",
    range: "36m",
    components: ["V", "S"],
    duration: "Instantânea",
    classes: ["Mago", "Feiticeiro", "Artífice"],
    description:
      "Você arremessa uma pequena bola de fogo contra uma criatura ou objeto ao alcance. Faça ataque à distância com magia. Em caso de acerto, causa 1d10 de dano de fogo. O fogo incendeia objetos não carregados ou vestidos.",
    source: { book: "PHB 2024", page: 0 },
  },
  {
    id: "mensagem",
    name: "Mensagem",
    level: 0,
    school: "Transmutação",
    ritual: false,
    concentration: false,
    castingTime: "1 ação",
    range: "36m",
    components: ["V", "S", "M"],
    duration: "1 rodada",
    classes: ["Mago", "Bardo", "Artífice"],
    description:
      "Você aponta para uma criatura ao alcance e sussurra uma mensagem. O alvo (e somente ele) ouve a mensagem e pode responder em um sussurro.",
    source: { book: "PHB 2024", page: 0 },
  },

  // ── Magias de 1º Círculo ──────────────────
  {
    id: "detectar-magia",
    name: "Detectar Magia",
    level: 1,
    school: "Adivinhação",
    ritual: true,
    concentration: true,
    castingTime: "1 ação",
    range: "Pessoal",
    components: ["V", "S"],
    duration: "10 minutos",
    classes: ["Mago", "Feiticeiro", "Clérigo", "Druida", "Guardião", "Bardo", "Bruxo", "Paladino", "Artífice"],
    description:
      "Enquanto a magia durar, você percebe a presença de magia em um raio de 9m. Pode usar sua ação para ver uma aura ao redor de qualquer criatura ou objeto visível que carregue magia, e identificar sua escola.",
    source: { book: "PHB 2024", page: 0 },
  },
  {
    id: "misseis-magicos",
    name: "Mísseis Mágicos",
    level: 1,
    school: "Evocação",
    ritual: false,
    concentration: false,
    castingTime: "1 ação",
    range: "36m",
    components: ["V", "S"],
    duration: "Instantânea",
    classes: ["Mago", "Feiticeiro"],
    description:
      "Você cria três dardos brilhantes de força mágica. Cada dardo acerta automaticamente, causando 1d4+1 de dano de força. Pode direcioná-los a um ou mais alvos.",
    source: { book: "PHB 2024", page: 0 },
  },
  {
    id: "escudo-arcano",
    name: "Escudo Arcano",
    level: 1,
    school: "Abjuração",
    ritual: false,
    concentration: false,
    castingTime: "1 reação",
    range: "Pessoal",
    components: ["V", "S"],
    duration: "1 rodada",
    classes: ["Mago", "Feiticeiro"],
    description:
      "Uma barreira invisível de força aparece e protege você. Até o início do seu próximo turno, +5 à CA, inclusive contra o ataque que a ativou, e imunidade a Mísseis Mágicos.",
    source: { book: "PHB 2024", page: 0 },
  },
  {
    id: "mãos-flamejantes",
    name: "Mãos Flamejantes",
    level: 1,
    school: "Evocação",
    ritual: false,
    concentration: false,
    castingTime: "1 ação",
    range: "Pessoal (cone de 4,5m)",
    components: ["V", "S"],
    duration: "Instantânea",
    classes: ["Mago", "Feiticeiro"],
    description:
      "Cada criatura no cone de 4,5m deve fazer TR de Destreza. Falha: 3d6 de dano de fogo. Sucesso: metade.",
    source: { book: "PHB 2024", page: 0 },
  },
  {
    id: "queda-suave",
    name: "Queda Suave",
    level: 1,
    school: "Transmutação",
    ritual: false,
    concentration: false,
    castingTime: "1 reação",
    range: "18m",
    components: ["V", "M"],
    duration: "1 minuto",
    classes: ["Mago", "Feiticeiro", "Bardo", "Artífice"],
    description:
      "Escolha até 5 criaturas em queda ao alcance. A velocidade de queda cai para 18m por rodada. Se aterrissarem antes da magia acabar, não sofrem dano de queda.",
    source: { book: "PHB 2024", page: 0 },
  },
  {
    id: "identificacao",
    name: "Identificação",
    level: 1,
    school: "Adivinhação",
    ritual: true,
    concentration: false,
    castingTime: "1 minuto",
    range: "Toque",
    components: ["V", "S", "M"],
    duration: "Instantânea",
    classes: ["Mago", "Bardo", "Artífice"],
    description:
      "Você escolhe um objeto que esteja tocando. Se for mágico ou imbuído de magia, você descobre suas propriedades e como usá-las.",
    source: { book: "PHB 2024", page: 0 },
  },
  {
    id: "alarme",
    name: "Alarme",
    level: 1,
    school: "Abjuração",
    ritual: true,
    concentration: false,
    castingTime: "1 minuto",
    range: "9m",
    components: ["V", "S", "M"],
    duration: "8 horas",
    classes: ["Mago", "Guardião", "Artífice"],
    description:
      "Você define um alarme contra intrusão indesejada. Escolha porta, janela ou área de até 6m cúbicos. Alerta mental ou audível quando uma criatura entra na área.",
    source: { book: "PHB 2024", page: 0 },
  },
  {
    id: "armadura-arcana",
    name: "Armadura Arcana",
    level: 1,
    school: "Abjuração",
    ritual: false,
    concentration: false,
    castingTime: "1 ação",
    range: "Toque",
    components: ["V", "S", "M"],
    duration: "8 horas",
    classes: ["Mago", "Feiticeiro"],
    description:
      "Você toca uma criatura voluntária. A CA base dela passa a ser 13 + mod. Destreza. A magia termina se o alvo vestir armadura ou se você a dissipar.",
    source: { book: "PHB 2024", page: 0 },
  },
  {
    id: "sono",
    name: "Sono",
    level: 1,
    school: "Encantamento",
    ritual: false,
    concentration: true,
    castingTime: "1 ação",
    range: "18m",
    components: ["V", "S", "M"],
    duration: "1 minuto",
    classes: ["Mago", "Feiticeiro", "Bardo"],
    description:
      "Uma criatura alvo deve fazer TR de Sabedoria. Falha: fica inconsciente pela duração. Acorda se sofrer dano ou alguém gastar ação para acordá-la.",
    source: { book: "PHB 2024", page: 0 },
  },
  {
    id: "compreender-idiomas",
    name: "Compreender Idiomas",
    level: 1,
    school: "Adivinhação",
    ritual: true,
    concentration: false,
    castingTime: "1 ação",
    range: "Pessoal",
    components: ["V", "S", "M"],
    duration: "1 hora",
    classes: ["Mago", "Feiticeiro", "Bardo", "Bruxo"],
    description:
      "Enquanto durar, você compreende o significado literal de qualquer idioma falado que ouvir e pode ler qualquer texto escrito que tocar.",
    source: { book: "PHB 2024", page: 0 },
  },

  // ── Magias de 2º Círculo ──────────────────
  {
    id: "invisibilidade",
    name: "Invisibilidade",
    level: 2,
    school: "Ilusão",
    ritual: false,
    concentration: true,
    castingTime: "1 ação",
    range: "Toque",
    components: ["V", "S", "M"],
    duration: "1 hora",
    classes: ["Mago", "Feiticeiro", "Bardo", "Bruxo", "Artífice"],
    description:
      "Uma criatura que você toca fica invisível até a magia acabar. Qualquer coisa que ela carregue ou vista também fica invisível. A magia termina se o alvo atacar ou conjurar.",
    source: { book: "PHB 2024", page: 0 },
  },
  {
    id: "imobilizar-pessoa",
    name: "Imobilizar Pessoa",
    level: 2,
    school: "Encantamento",
    ritual: false,
    concentration: true,
    castingTime: "1 ação",
    range: "18m",
    components: ["V", "S", "M"],
    duration: "1 minuto",
    classes: ["Mago", "Feiticeiro", "Clérigo", "Druida", "Bardo", "Bruxo", "Paladino"],
    description:
      "Escolha um humanoide ao alcance. Ele deve fazer TR de Sabedoria. Falha: fica paralisado. Ao fim de cada turno, nova TR para terminar o efeito.",
    source: { book: "PHB 2024", page: 0 },
  },
  {
    id: "passo-nebuloso",
    name: "Passo Nebuloso",
    level: 2,
    school: "Conjuração",
    ritual: false,
    concentration: false,
    castingTime: "1 ação bônus",
    range: "Pessoal",
    components: ["V"],
    duration: "Instantânea",
    classes: ["Mago", "Feiticeiro", "Bruxo"],
    description:
      "Envolvido brevemente por uma névoa prateada, você se teleporta até 9m para um espaço desocupado que possa ver.",
    source: { book: "PHB 2024", page: 0 },
  },
];

/** Get unique schools from spell list */
export function getSpellSchools(): string[] {
  return [...new Set(spells.map((s) => s.school))].sort((a, b) => a.localeCompare(b, "pt-BR"));
}
